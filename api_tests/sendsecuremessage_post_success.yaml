# Test generated by RoostGPT for test Testing12345 using AI Type Open AI and AI Model gpt-4


# Test generated for /sendsecuremessage_post for http method type POST in artillery framework

# RoostTestHash=3b0ac86130


config:
  target: "{{ $processEnvironment.API_HOST }}"
  plugins:
    expect: {}
  payload:
    path: "sendsecuremessage_post_success.csv"
    fields: ["authType", "firstName", "lastName", "email", "phoneNumber", "topic", "message", "availableTime", "chatHistory", "cif"]
    skipHeader: true
  environments:
    dev:
      target: "{{ $processEnvironment.API_HOST }}"
      var:
        AUTH_TOKEN: "{{ $processEnvironment.AUTH_TOKEN }}"

scenarios:
  - name: "Send secure message"
    flow:
      - log: "Sending secure message"
      - post:
          url: "/sendsecuremessage"
          headers:
            Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
          json:
            authType: "{{ authType }}"
            firstName: "{{ firstName }}"
            lastName: "{{ lastName }}"
            email: "{{ email }}"
            phoneNumber: "{{ phoneNumber }}"
            topic: "{{ topic }}"
            message: "{{ message }}"
            availableTime: "{{ availableTime }}"
            chatHistory: "{{ chatHistory }}"
            cif: "{{ cif }}"
          expect:
            - statusCode: 200
            - hasProperty: "authType"
            - hasProperty: "firstName"
            - hasProperty: "lastName"
            - hasProperty: "email"
            - hasProperty: "phoneNumber"
            - hasProperty: "topic"
            - hasProperty: "message"
            - hasProperty: "availableTime"
            - hasProperty: "chatHistory"
            - hasProperty: "cif"
          capture:
            - json: "$.authType"
              as: "authType"
            - json: "$.firstName"
              as: "firstName"
            - json: "$.lastName"
              as: "lastName"
            - json: "$.email"
              as: "email"
            - json: "$.phoneNumber"
              as: "phoneNumber"
            - json: "$.topic"
              as: "topic"
            - json: "$.message"
              as: "message"
            - json: "$.availableTime"
              as: "availableTime"
            - json: "$.chatHistory"
              as: "chatHistory"
            - json: "$.cif"
              as: "cif"
      - think: 3
